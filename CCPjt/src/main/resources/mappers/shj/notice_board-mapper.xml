<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  	
<mapper namespace ="notice_board">

	<!-- 글 목록 불러오기 -->
	<select id="noticeBoardList" resultType="noticeBoardVo">
		select * from notice_board
		order by b_no desc
	</select>
	
	<!-- 해당 게시글 읽기 -->
	<select id="noticeBoardRead" resultType="noticeBoardVo">
		select * from notice_board
		where b_no = #{b_no}
	</select>

	<!-- 글 작성 -->
	<insert id="noticeBoardWrite">
		insert into notice_board(b_serialno, b_no, b_addinfo, b_detailinfo, b_title, b_writer, u_id, b_content)
		values ('no_' || seq_notice_serialno.nextval, seq_notice.nextval, #{b_addinfo}, #{b_detailinfo}, #{b_title}, #{b_writer}, #{u_id}, #{b_content})
	</insert>
	
	<!-- 글 갯수 -->
	<select id="noticeBoardCount" resultType="int">
		select count(*) from notice_board
	</select>
	
</mapper>